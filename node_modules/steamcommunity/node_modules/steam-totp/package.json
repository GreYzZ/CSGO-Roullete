{
  "name": "steam-totp",
  "version": "1.3.0",
  "description": "Generate Steam-style TOTP codes given a secret",
  "keywords": [
    "steam",
    "steam client",
    "steam guard"
  ],
  "homepage": "https://github.com/DoctorMcKay/node-steam-totp",
  "bugs": {
    "url": "https://github.com/DoctorMcKay/node-steam-totp/issues"
  },
  "license": "MIT",
  "author": {
    "name": "Alexander Corn",
    "email": "mckay@doctormckay.com",
    "url": "https://www.doctormckay.com"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/DoctorMcKay/node-steam-totp.git"
  },
  "readme": "# Steam TOTP\r\n[![npm version](https://img.shields.io/npm/v/steam-totp.svg)](https://npmjs.com/package/steam-totp)\r\n[![npm downloads](https://img.shields.io/npm/dm/steam-totp.svg)](https://npmjs.com/package/steam-totp)\r\n[![license](https://img.shields.io/npm/l/steam-totp.svg)](https://github.com/DoctorMcKay/node-steam-totp/blob/master/LICENSE)\r\n[![paypal](https://img.shields.io/badge/paypal-donate-yellow.svg)](https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=N36YVAT42CZ4G&item_name=node%2dsteam%2dtotp&currency_code=USD)\r\n\r\nThis lightweight module generates Steam-style 5-digit alphanumeric two-factor authentication codes given a shared secret.\r\n\r\nUsage is simple:\r\n\r\n```js\r\nvar SteamTotp = require('steam-totp');\r\nvar code = SteamTotp.generateAuthCode('cnOgv/KdpLoP6Nbh0GMkXkPXALQ=');\r\n```\r\n\r\n## time([timeOffset])\r\n- `timeOffset` - Default 0 if omitted. This many seconds will be added to the returned value.\r\n\r\n**v1.2.0 or later is required to use this function**\r\n\r\nSimply returns the current local time in Unix time. This is just `Math.floor(Date.now() / 1000) + timeOffset`.\r\n\r\n## getAuthCode(secret[, timeOffset])\r\n- `secret` - Your `shared_secret`, as a `Buffer`, hex string, or base64 string\r\n- `timeOffset` - If you know your clock's offset from the Steam servers, you can provide it here. This number of seconds will be added to the current time to produce the final time. Default 0.\r\n\r\nReturns your current 5-character alphanumeric TOTP code as a string.\r\n\r\n*Alias: generateAuthCode(secret[, timeOffset])*\r\n\r\n## getConfirmationKey(identitySecret, time, tag)\r\n- `identitySecret` - Your `identity_secret`, as a `Buffer`, hex string, or base64 string\r\n- `time` - The Unix time for which you are generating this secret. Generally should be the current time.\r\n- `tag` - The tag which identifies what this request (and therefore key) will be for. \"conf\" to load the confirmations page, \"details\" to load details about a trade, \"allow\" to confirm a trade, \"cancel\" to cancel it.\r\n\r\n**v1.1.0 or later is required to use this function**\r\n\r\nReturns a string containing your base64 confirmation key for use with the mobile confirmations web page.\r\n\r\n*Alias: generateConfirmationKey(identitySecret, time, tag)*\r\n\r\n## getTimeOffset(callback)\r\n- `callback` - Called when the request completes\r\n    - `error` - An `Error` object, or `null` on success\r\n    - `offset` - The time offset in seconds\r\n    - `latency` - The time in milliseconds between when we sent the request and when we received a response\r\n\r\n**v1.2.0 or later is required to use this function**\r\n\r\nQueries the Steam servers for their time, then subtracts our local time from it to get our offset.\r\n\r\nThe offset is how many seconds we are **behind** Steam. Therefore, **add** this number to our local time to get Steam time.\r\n\r\nYou can pass this value to `time()` or to `getAuthCode()` as-is with no math involved.\r\n\r\n## getDeviceID(steamID)\r\n- `steamID` - Your SteamID as a string or an object (such as a `SteamID` object) which has a `toString()` method that returns the SteamID as a 64-bit integer string.\r\n\r\n**v1.3.0 or later is required to use this function**\r\n\r\nReturns a standardized device ID in the same format as Android device IDs from Valve's official mobile app. Steam will\r\nlikely soon stop allowing you to send a different device ID each time you load the page, instead requiring you to\r\nconsistently use the same device ID. If you use this function's algorithm everywhere you use a confirmation device ID,\r\nthen your experience should be fine.\r\n\r\nThe algorithm used is:\r\n\r\n1. Convert the SteamID to a string\r\n2. SHA-1 hash it and encode the resulting hash as a lowercase hex value\r\n3. Truncate the hash to 32 characters\r\n4. Insert dashes such that the resulting value has 5 groups of hexadecimal values containing 8, 4, 4, 4, and 12 characters, respectively\r\n5. Prepend \"android:\" to the resulting value\r\n",
  "readmeFilename": "README.md",
  "_id": "steam-totp@1.3.0",
  "_shasum": "8150dc5ea38fa605e7fafe8a5721fc931f39a1f8",
  "_from": "steam-totp@>=1.3.0 <2.0.0",
  "_resolved": "https://registry.npmjs.org/steam-totp/-/steam-totp-1.3.0.tgz"
}
